<!doctype html>
<html lang="en">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		
	
	<!-- Browser Title -->
	<title>Cast A Vote</title>
	
	
</head>
<body style="background: grey">
	<div style="background: black">
		<h1 id="top-title" style="color: rgb(4, 255, 222)">Vote For Your Favorite Candidate</h1>		
		<!-- Button to get to the add a candidate page (admins only) -->
		<a href="add-candidate-page.html">
			<button id="candidate-page-button" hidden="true">Click Me To Add Candidate</button>
		</a>			
		<!-- Button for an admin to enter their password -->
		<input id="admin-pass" type="password" placeholder="Password">
		<button id="admin-login-button" onclick="verifyPassword('admin-login-button')">Admin Login</button>		
	</div>
	<!-- //add a list function here for the ballot 
	//find a way to plug into create ballot -->
	<p id="pwdCheck"></p>
	<h1>Ballot:</h1>
	
	<br>
	<input id = "addressInput" type="text" placeholder="Wallet Address">
	<br>
	<ul id="list" class="list-group mt-3">
	</ul>

	<script>
		window.onload = async () => {
			console.log("Page has finished loading.");
			// Call the async function when the page loads
			await displayBoxes();
			// await showBarChart();
			console.log("Async function completed.");
		};
	</script> 

	<button id="submit" onclick="submitBallot()">Submit</button>
	<p id="submission"></p>
	<br>

	<canvas id="barChart" style="width:100%;max-width:600px"></canvas>
	<script>
		var initialData = [0, 0, 0];
        var initialLabels = ['Category A', 'Category B', 'Category C'];

        // Function to create and update the chart
        function createChart(data, labels) {
            var ctx = document.getElementById('barChart').getContext('2d');
            var chartData = {
                labels: labels,
                datasets: [{
                    label: 'Polls',
                    data: data,
                    backgroundColor: ['red', 'green', 'blue'],
                }]
            };
            var chartConfig = {
                type: 'bar',
                data: chartData,
            };
            return new Chart(ctx, chartConfig);
        }

        // Initial chart creation
		try{
			var barChart = createChart(initialData, initialLabels);
		}catch(error){
			console.log('creation of barchart didnt work: ', error);
		}
		
	</script>
	<button onclick="updateChart()">Show Polls</button>

	

	

	

		
	

	<!-- Optional JavaScript -->
	

	<!-- jQuery.js -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<!-- Popper.js-->
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
		integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
		crossorigin="anonymous"></script>
	<!-- bootstrap.js-->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
		integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
		crossorigin="anonymous"></script>
	<!-- Web3.js-->
	<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
	<!-- Our JS files -->
	<script src="/bcVoting/config.js"></script>
	<script src="/bcVoting/getAccount.js"></script>
	<script src="/bcVoting/app.js"></script>
</body>

</html>